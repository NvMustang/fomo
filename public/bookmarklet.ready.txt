javascript:!function(){"use strict";window.location.href.includes("/events/")&&window.location.hostname.includes("facebook.com")?window.__FOMO_BOOKMARKLET_ACTIVE||(window.__FOMO_BOOKMARKLET_ACTIVE=!0,async function(){try{!function(e,t,n){const o=document.createElement("div");o.id="fomo-bookmarklet-overlay",o.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.7);\n            z-index: 999999;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        ";const s=document.createElement("div");s.style.cssText="\n            background: white;\n            border-radius: 8px;\n            padding: 24px;\n            max-width: 600px;\n            width: 90%;\n            max-height: 90vh;\n            overflow-y: auto;\n            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        ";const r=document.createElement("h2");r.textContent="üìÖ Ajouter l'√©v√©nement √† FOMO",r.style.cssText="margin: 0 0 20px 0; font-size: 24px; color: #333;";const i=document.createElement("form");function a(e,t,n,o=!1,s="text"){const r=document.createElement("div");r.style.cssText="display: flex; flex-direction: column; gap: 4px;";const i=document.createElement("label");let a;return i.textContent=e+(o?" *":""),i.style.cssText="font-weight: 600; color: #555; font-size: 14px;","textarea"===s?(a=document.createElement("textarea"),a.rows=4):(a=document.createElement("input"),a.type=s),a.name=t,"number"===s?(a.value=null!=n?n+"":"0",a.min="0"):a.value=n||"",a.required=o,a.style.cssText="\n                padding: 8px 12px;\n                border: 1px solid #ddd;\n                border-radius: 4px;\n                font-size: 14px;\n                font-family: inherit;\n            ",r.appendChild(i),r.appendChild(a),{container:r,input:a}}i.style.cssText="display: flex; flex-direction: column; gap: 16px;";const c=a("URL","url",e.url,!0);c.input.readOnly=!0,c.input.style.background="#f5f5f5";const l=a("Titre","title",e.title,!0),d=a("Description","description",e.description,!1,"textarea");let u="",p="";if(e.start)try{const t=new Date(e.start);if(!isNaN(t.getTime())){const e=t.getFullYear();u=`${e}-${(t.getMonth()+1+"").padStart(2,"0")}-${(t.getDate()+"").padStart(2,"0")}T${(t.getHours()+"").padStart(2,"0")}:${(t.getMinutes()+"").padStart(2,"0")}`}}catch(e){}if(e.end)try{const t=new Date(e.end);if(!isNaN(t.getTime())){const e=t.getFullYear();p=`${e}-${(t.getMonth()+1+"").padStart(2,"0")}-${(t.getDate()+"").padStart(2,"0")}T${(t.getHours()+"").padStart(2,"0")}:${(t.getMinutes()+"").padStart(2,"0")}`}}catch(e){}const m=a("Date de d√©but (ISO)","start",u||e.start,!0,"datetime-local"),f=a("Date de fin (ISO)","end",p||e.end,!1,"datetime-local"),h=a("Nom du lieu","venue_name",e.venue_name),v=a("Adresse du lieu","address",e.address),g=a("Organisateur","host",e.host),x=a("Image de couverture (URL)","cover",e.cover),y=a("Nombre de participants","attending_count",e.attending_count||0,!1,"number"),b=a("Nombre d'int√©ress√©s","interested_count",e.interested_count||0,!1,"number");i.appendChild(c.container),i.appendChild(l.container),i.appendChild(d.container),i.appendChild(m.container),i.appendChild(f.container),i.appendChild(h.container),i.appendChild(v.container),i.appendChild(g.container),i.appendChild(x.container),i.appendChild(y.container),i.appendChild(b.container);const C=document.createElement("div");C.style.cssText="display: flex; gap: 12px; justify-content: flex-end; margin-top: 20px; width: 100%;";const w=document.createElement("button");w.type="button",w.textContent="Annuler",w.style.cssText="\n            padding: 10px 20px;\n            border: 1px solid #ccc;\n            background: #f5f5f5;\n            color: #333;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 14px;\n            display: inline-block;\n            min-width: 80px;\n            flex-shrink: 0;\n        ",w.onclick=()=>{document.body.removeChild(o),window.__FOMO_BOOKMARKLET_ACTIVE=!1,n()};const S=document.createElement("button");S.type="submit",S.textContent="Envoyer",S.style.cssText="\n            padding: 10px 20px;\n            border: none;\n            background: #1877f2;\n            color: white;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 14px;\n            font-weight: 600;\n            display: inline-block;\n            min-width: 80px;\n            flex-shrink: 0;\n        ",C.appendChild(w),C.appendChild(S),i.onsubmit=async e=>{if(e.preventDefault(),!l.input.value.trim())return void alert("Le titre est obligatoire");if(!m.input.value.trim())return void alert("La date de d√©but est obligatoire");let t=m.input.value;if("datetime-local"===m.input.type)try{const e=new Date(m.input.value);isNaN(e.getTime())||(t=e.toISOString())}catch(e){return void alert("Format de date invalide")}let n=f.input.value;if(f.input.value&&"datetime-local"===f.input.type)try{const e=new Date(f.input.value);isNaN(e.getTime())||(n=e.toISOString())}catch(e){n=""}const o={source:"facebook",url:c.input.value.trim(),title:l.input.value.trim(),description:d.input.value.trim(),start:t,end:n||void 0,venue_name:h.input.value.trim()||void 0,address:v.input.value.trim()||void 0,host:g.input.value.trim()||void 0,cover:x.input.value.trim()||void 0,attending_count:parseInt(y.input.value)||0,interested_count:parseInt(b.input.value)||0};S.disabled=!0,S.textContent="Envoi...";try{await(async e=>{try{const t=await async function(e,t){const n=await fetch("https://fomo-swart.vercel.app/api/ingest/event",{method:"POST",headers:{"Content-Type":"application/json","X-FOMO-Key":t},body:JSON.stringify(e)}),o=await n.json();if(!n.ok){if(401===n.status)throw Error("Mot de passe incorrect. Veuillez r√©essayer.");throw Error(o.error||"Erreur "+n.status)}return o}(e,"LaFomoCrew"),n=document.querySelector("#fomo-bookmarklet-overlay");if(n){const e=n.querySelector("div");if(e){const o=document.createElement("div");o.style.cssText=`\n                                padding: 16px;\n                                margin-top: 16px;\n                                border-radius: 4px;\n                                background: ${t.duplicate?"#fff3cd":"#d4edda"};\n                                color: ${t.duplicate?"#856404":"#155724"};\n                                font-size: 14px;\n                            `,t.duplicate?o.textContent=`‚ö†Ô∏è Doublon d√©tect√©. L'√©v√©nement existe d√©j√† (ID: ${t.id})`:o.textContent=`‚úÖ √âv√©nement ajout√© avec succ√®s ! (ID: ${t.id})`,e.appendChild(o),setTimeout(()=>{document.body.contains(n)&&(document.body.removeChild(n),window.__FOMO_BOOKMARKLET_ACTIVE=!1)},3e3)}}}catch(e){if(e.message.includes("Mot de passe incorrect")||e.message.includes("non autoris√©")){alert("‚ùå Erreur: La cl√© API FOMO est incorrecte.\n\nVeuillez v√©rifier la constante FOMO_KEY dans le code du bookmarklet.");const e=document.querySelector("#fomo-bookmarklet-overlay");return void(e&&document.body.contains(e)&&(document.body.removeChild(e),window.__FOMO_BOOKMARKLET_ACTIVE=!1))}throw e}})(o)}catch(e){S.disabled=!1,S.textContent="Envoyer",alert("Erreur: "+(e.message||"Erreur inconnue"))}},s.appendChild(r),s.appendChild(i),s.appendChild(C),o.appendChild(s),o.onclick=e=>{e.target===o&&(document.body.removeChild(o),window.__FOMO_BOOKMARKLET_ACTIVE=!1,n())};const k=e=>{"Escape"===e.key&&(document.body.removeChild(o),window.__FOMO_BOOKMARKLET_ACTIVE=!1,document.removeEventListener("keydown",k),n())};document.addEventListener("keydown",k),document.body.appendChild(o)}(await async function(){const e={source:"facebook",url:window.location.href,title:"",description:"",start:"",end:"",timezone:"Europe/Brussels",venue_name:"",address:"",host:"",attending_count:0,interested_count:0,cover:""};try{const t=document.querySelector('[role="main"]')||document.body,n=t.querySelectorAll("h1");for(const t of n){const n=t.textContent.trim();if(!n||3>n.length||n.length>200)continue;let o=t.parentElement,s=0;const r=6;for(;o&&r>s;){const r=Array.from(o.children).filter(e=>"DIV"===e.tagName&&e.children.length>0);if(r.length>=3){const o=r.find(e=>e.contains(t));if(o){const t=r.indexOf(o);if(r[0]&&!e.start){const e=r[0].textContent.trim();e&&e.length}if(!e.title&&n&&(e.title=n),r.length>t+1){const n=r[t+1].textContent.trim();if(n&&n.length>=2&&200>n.length&&(!e.title||n.toLowerCase()!==e.title.toLowerCase()&&!n.toLowerCase().includes(e.title.toLowerCase())&&!e.title.toLowerCase().includes(n.toLowerCase())))if(n.includes(",")){const t=n.split(",").map(e=>e.trim());if(t.length>=2){const o=t[t.length-2];o&&o.length>=2&&100>o.length&&(e.venue_name||(e.venue_name=o),e.address||(e.address=n))}}else e.venue_name||(e.venue_name=n)}if(e.title)break}}o=o.parentElement,s++}if(e.title)break}if(!e.title){const n=document.querySelector('h1[data-testid="event-permalink-event-name"]');if(n&&n.textContent.trim())e.title=n.textContent.trim();else{const n=t.querySelectorAll("h1");for(const t of n){const n=t.textContent.trim();if(n&&n.length>3&&200>n.length){e.title=n;break}}}}const o=t.querySelectorAll('[role="button"]');let s=!1;for(const e of o){const t=e.textContent.trim().toLowerCase(),n="voir plus"===t||"en voir plus"===t||"see more"===t||t.includes("voir plus")||t.includes("see more"),o="voir moins"===t||"see less"===t||t.includes("moins")||t.includes("less");if(n&&!o)try{e.click(),s=!0,await new Promise(e=>setTimeout(e,500));break}catch(e){}}let r=null;const i=t.querySelectorAll("div.html-div.xdj266r.x14z9mp.xat24cr.x1lziwak");for(const e of i){const t=e.querySelector('span[dir="auto"][class*="xdmh292"][class*="x15dsfln"][class*="x140p0ai"]');if(t){const e=t.querySelector("div.xdj266r.x14z9mp.xat24cr.x1lziwak.x1vvkbs"),n=t.querySelectorAll("div.x14z9mp.xat24cr.x1lziwak.x1vvkbs.xtlvy1s").length>0;if(e||n){r=t;break}}}if(r||(r=t.querySelector('span[dir="auto"][class*="xdmh292"][class*="x15dsfln"][class*="x140p0ai"]')),r){const t=r.cloneNode(!0),n=t.querySelectorAll('[role="button"], button, [class*="button"]');let o=0;n.forEach(e=>{const t=e.textContent.trim().toLowerCase();(t.includes("voir moins")||t.includes("voir plus")||t.includes("en savoir plus")||t.includes("see more")||t.includes("see less")||"voir plus"===t||"voir moins"===t||"plus"===t||"moins"===t||"more"===t||"less"===t)&&(e.remove(),o++)});const s=e=>{const t=e.cloneNode(!0);return t.querySelectorAll("img[alt]").forEach(e=>{const t=e.getAttribute("alt")||"";if(e.parentNode){const n=document.createTextNode(t);try{e.parentNode.replaceChild(n,e)}catch(e){}}}),t.querySelectorAll("br, br.html-br").forEach(e=>{if(e.parentNode){const t=document.createTextNode("\n");try{e.parentNode.replaceChild(t,e)}catch(e){}}}),t.textContent.trim()},i=[],a=t.querySelectorAll("div.xdj266r.x14z9mp.xat24cr.x1lziwak.x1vvkbs");if(a.length>0){const e=a[0],t=s(e);t&&t.length>0&&i.push(t)}t.querySelectorAll("div.x14z9mp.xat24cr.x1lziwak.x1vvkbs.xtlvy1s").forEach((e,t)=>{const n=s(e);n&&n.length>0&&i.push(n)}),0===i.length&&t.querySelectorAll("div.x14z9mp.xat24cr.x1lziwak.x1vvkbs").forEach((e,t)=>{const n=s(e);n&&n.length>10&&i.push(n)});let c="";c=i.length>0?i.join("\n\n"):t.textContent.trim(),c=c.replace(/\s*(voir\s+(plus|moins)|en\s+savoir\s+plus|see\s+(more|less))\s*/gi,""),c=c.replace(/\n{3,}/g,"\n\n").trim(),c&&c.length>20&&(e.description=c.substring(0,2e3))}else t.querySelectorAll('span[dir="auto"]');if(!e.description){const t=['[data-testid="event-permalink-details"]','[data-testid="event-permalink-description"]','[data-testid="event-permalink-about"]','[data-testid="event-permalink-event-description"]'];for(const n of t){const t=document.querySelector(n);if(t){const n=t.textContent.trim();if(n&&n.length>20){e.description=n.substring(0,1e3);break}}}}if(!e.description){const t=document.querySelector("div.xdj266r.x14z9mp.xat24cr.x1lziwak.x1vvkbs");if(t){const n=t.cloneNode(!0);n.querySelectorAll('[role="button"], button, [class*="button"]').forEach(e=>{const t=e.textContent.trim().toLowerCase();(t.includes("voir moins")||t.includes("voir plus")||t.includes("en savoir plus")||t.includes("see more")||t.includes("see less")||"voir plus"===t||"voir moins"===t||"plus"===t||"moins"===t||"more"===t||"less"===t)&&e.remove()});let o=n.textContent.trim();o=o.replace(/\s*(voir\s+(plus|moins)|en\s+savoir\s+plus|see\s+(more|less))\s*/gi,""),o=o.replace(/\s+/g," ").trim(),o&&o.length>20&&(e.description=o.substring(0,1e3))}}if(!e.description){const n=t.querySelectorAll('div[class*="xdj266r"], div[class*="x14z9mp"]');for(const t of n){const n=t.cloneNode(!0);n.querySelectorAll('[role="button"], button, [class*="button"]').forEach(e=>{const t=e.textContent.trim().toLowerCase();(t.includes("voir moins")||t.includes("voir plus")||t.includes("en savoir plus")||t.includes("see more")||t.includes("see less")||"voir plus"===t||"voir moins"===t||"plus"===t||"moins"===t||"more"===t||"less"===t)&&e.remove()});let o=n.textContent.trim();if(o=o.replace(/\s*(voir\s+(plus|moins)|en\s+savoir\s+plus|see\s+(more|less))\s*/gi,""),o=o.replace(/\s+/g," ").trim(),o&&o.length>50&&2e3>o.length&&!o.match(/^https?:\/\//)&&o.split(/\s+/).length>10){e.description=o.substring(0,1e3);break}}}if(!e.description){const n=t.querySelectorAll('div[dir="auto"]');let o="";for(const e of n){const t=e.cloneNode(!0);t.querySelectorAll('[role="button"], button, [class*="button"]').forEach(e=>{const t=e.textContent.trim().toLowerCase();(t.includes("voir moins")||t.includes("voir plus")||t.includes("en savoir plus")||t.includes("see more")||t.includes("see less")||"voir plus"===t||"voir moins"===t||"plus"===t||"moins"===t||"more"===t||"less"===t)&&e.remove()});let n=t.textContent.trim();n=n.replace(/\s*(voir\s+(plus|moins)|en\s+savoir\s+plus|see\s+(more|less))\s*/gi,""),n=n.replace(/\s+/g," ").trim(),n&&n.length>50&&2e3>n.length&&!n.match(/^https?:\/\//)&&n.split(/\s+/).length>10&&n.length>o.length&&(o=n)}o&&(e.description=o.substring(0,1e3))}const a=t.querySelector('span[dir="auto"][class*="xdmh292"][class*="x15dsfln"][class*="x140p0ai"][class*="x1yc453h"][class*="x1a1m0xk"][class*="x1xlr1w8"]');if(a){const t=a.textContent.trim().match(/du\s+(\d{1,2})\s+(\w+)\.\s+(\d{1,2}):(\d{2})\s+au\s+(\d{1,2})\s+(\w+)\.\s+(\d{1,2}):(\d{2})/i);if(t){const[,n,o,s,r,i,a,c,l]=t,d={janv:0,jan:0,"f√©vr":1,"f√©v":1,mars:2,mar:2,avr:3,mai:4,juin:5,juil:6,jul:6,"ao√ªt":7,aout:7,sept:8,oct:9,nov:10,"d√©c":11,dec:11,jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},u=d[o.toLowerCase()],p=d[a.toLowerCase()];if(void 0!==u&&void 0!==p){const t=new Date;let o=t.getFullYear();(u<t.getMonth()||u===t.getMonth()&&parseInt(n)<t.getDate())&&(o+=1);const a=new Date(o,u,parseInt(n),parseInt(s),parseInt(r)),d=new Date(o,p,parseInt(i),parseInt(c),parseInt(l));isNaN(a.getTime())||isNaN(d.getTime())||(e.start=a.toISOString(),e.end=d.toISOString())}}}const c=document.querySelectorAll('script[type="application/ld+json"]');for(const t of c)try{const n=JSON.parse(t.textContent);if("Event"===n["@type"]||Array.isArray(n)&&n.find(e=>"Event"===e["@type"])){const t=Array.isArray(n)?n.find(e=>"Event"===e["@type"]):n;t.startDate&&(e.start=new Date(t.startDate).toISOString()),t.endDate&&(e.end=new Date(t.endDate).toISOString());break}}catch(e){}if(!e.start){const n=t.querySelectorAll('span[dir="auto"][class*="xdmh292"], span[dir="auto"][class*="x15dsfln"]');let o="";for(const e of n){const t=e.textContent.trim();if(t&&(t.includes("de")&&t.includes("√†")&&t.match(/\d{1,2}\s+\w+\s+\d{4}/)||t.includes("√†")&&t.match(/\d{1,2}\s+\w+\s+\d{4}/)||t.match(/\d{1,2}\/\d{1,2}\/\d{4}/)||t.match(/\d{4}-\d{2}-\d{2}/))){o=t;break}}if(!o){const e=['[data-testid="event-permalink-event-time"]','[data-testid="event-time"]','[aria-label*="Date"]','[aria-label*="date"]'];for(const t of e){const e=document.querySelectorAll(t);for(const t of e){const e=t.textContent.trim()||t.getAttribute("aria-label")||"";if(e&&(e.includes("√†")||e.match(/\d{1,2}\s+\w+\s+\d{4}/)||e.match(/\d{1,2}\/\d{1,2}\/\d{4}/)||e.match(/\d{4}-\d{2}-\d{2}/))){o=e;break}}if(o)break}}if(!o){const e=document.querySelectorAll('span[dir="auto"]');for(const t of e){const e=t.textContent.trim();if(e&&(e.includes("√†")||e.match(/\d{1,2}\s+\w+\s+\d{4}/)||e.match(/\d{1,2}\/\d{1,2}\/\d{4}/))){o=e;break}}}if(o)try{let t=o.match(/(\d{4}-\d{2}-\d{2}[T\s]\d{2}:\d{2})/);if(t){const n=new Date(t[1]);isNaN(n.getTime())||(e.start=n.toISOString())}else{const t={janvier:0,"f√©vrier":1,mars:2,avril:3,mai:4,juin:5,juillet:6,"ao√ªt":7,septembre:8,octobre:9,novembre:10,"d√©cembre":11,january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11};let n=o.match(/(\d{1,2})\s+(\w+)\s+(\d{4})\s+de\s+(\d{1,2}):(\d{2})\s+√†\s+(\d{1,2}):(\d{2})/i);if(n||(n=o.match(/(\d{1,2})\s+(\w+)\s+(\d{4}).*?(\d{1,2}):(\d{2})\s+√†\s+(\d{1,2}):(\d{2})/i)),n){const[,o,s,r,i,a,c,l]=n,d=t[s.toLowerCase()];if(void 0!==d){const t=new Date(parseInt(r),d,parseInt(o),parseInt(i),parseInt(a)),n=new Date(parseInt(r),d,parseInt(o),parseInt(c),parseInt(l));isNaN(t.getTime())||isNaN(n.getTime())||(e.start=t.toISOString(),e.end=n.toISOString())}}else{let n=o.match(/(\d{1,2})\s+(\w+)\s+(\d{4}).*?(\d{1,2}):(\d{2})/);if(n){const[,o,s,r,i,a]=n,c=t[s.toLowerCase()];if(void 0!==c){const t=new Date(parseInt(r),c,parseInt(o),parseInt(i),parseInt(a));isNaN(t.getTime())||(e.start=t.toISOString())}}else if(n=o.match(/(\d{1,2})\/(\d{1,2})\/(\d{4}).*?(\d{1,2}):(\d{2})/),n){const[,t,o,s,r,i]=n,a=new Date(parseInt(s),parseInt(o)-1,parseInt(t),parseInt(r),parseInt(i));isNaN(a.getTime())||(e.start=a.toISOString())}}}if(e.start&&!e.end){const t=o.match(/(\d+)\s*(heure|hour|h|minute|min)/i);if(t){const n=parseInt(t[1]),o=t[2].toLowerCase(),s=new Date(e.start);o.includes("heure")||o.includes("hour")||"h"===o?s.setHours(s.getHours()+n):(o.includes("minute")||o.includes("min"))&&s.setMinutes(s.getMinutes()+n),isNaN(s.getTime())||(e.end=s.toISOString())}}}catch(e){}}let l=null;const d=document.querySelector('h1[data-testid="event-permalink-event-name"]')||t.querySelector("h1");if(d){let e=d.parentElement,t=0;for(;e&&10>t;){const n=e.querySelector('span[dir="auto"][class*="xdmh292"][class*="x15dsfln"][class*="x140p0ai"]'),o=e.querySelector('span[dir="auto"][class*="xdmh292"][class*="x15dsfln"][class*="x1yc453h"]');if(n||o){l=e;break}e=e.parentElement,t++}}const u=l||t;if(!e.venue_name&&u){const t=u.querySelectorAll("svg");for(const n of t){const t=n.querySelectorAll("path");let o=!1;for(const e of t){const t=e.getAttribute("d");if(t&&t.includes("M10 .5A7.5 7.5 0 0 0 2.5 8")){o=!0;break}}if(o){let t=n.parentElement,o=0;const s=5;for(;t&&s>o;){const n=t.querySelectorAll('span, div[role="button"], a, p');for(const t of n){const n=t.textContent.trim();if(n&&n.length>=2&&200>=n.length&&(!e.title||n.toLowerCase()!==e.title.toLowerCase()&&!n.toLowerCase().includes(e.title.toLowerCase())&&!e.title.toLowerCase().includes(n.toLowerCase()))){if(!n.includes(",")){e.venue_name=n;break}{const t=n.split(",").map(e=>e.trim());if(t.length>=2){const o=t[t.length-2];if(o&&o.length>=2&&100>o.length){e.venue_name=o,e.address||(e.address=n);break}}}}}if(e.venue_name)break;t=t.parentElement,o++}if(e.venue_name)break}}}const p=t.querySelectorAll("span");for(const t of p){const n=t.textContent.trim();if(n&&(n.toLowerCase().includes("√©v√®nement de")||n.toLowerCase().includes("event by")||n.toLowerCase().includes("√©v√©nement de"))){const n=t.querySelectorAll("a"),o=[];for(const e of n){const t=e.textContent.trim();t&&t.length>0&&o.push(t)}if(o.length>0){e.host=o.join(" et ");break}}}const m=['img[data-imgperflogname="profileCoverPhoto"]','img[data-testid="event-cover-photo"]','img[alt*="cover"]','img[alt*="Cover"]','img[alt*="event cover"]'];for(const t of m){const n=document.querySelector(t);if(n&&n.src&&!n.src.includes("data:image")){if("profileCoverPhoto"===n.getAttribute("data-imgperflogname")){e.cover=n.src;break}if(n.offsetWidth>400||n.naturalWidth>400){e.cover=n.src;break}}}if(!e.cover){const n=t.querySelectorAll("img");let o=null,s=0;for(const e of n)if(e.src&&!e.src.includes("data:image")&&!e.src.includes("profile")&&!e.src.includes("avatar")&&!e.src.includes("icon")&&(!e.alt||!e.alt.toLowerCase().includes("profile"))){const t=e.getBoundingClientRect(),n=(e.offsetWidth||e.naturalWidth||t.width)*(e.offsetHeight||e.naturalHeight||t.height),r=t.top,i=n/100+(1e3>r?(1e3-r)/10:0)+(e.src.includes("scontent")?100:0);n>5e4&&2e3>r&&i>s&&(s=i,o=e)}if(o){let t=o.src;t.includes("scontent")&&t.includes("&")&&(t=t.split("&")[0]+"&ext="),e.cover=t}}const f=t.querySelectorAll('span[dir="auto"][class*="xdmh292"], span[dir="auto"][class*="x15dsfln"]');for(const t of f){const n=t.textContent.trim().match(/^(\d+)$/);if(n){const o=parseInt(n[1]),s=t.parentElement,r=s?s.parentElement:null;let i=[];if(s&&i.push(s.textContent.trim().toLowerCase()),r&&i.push(r.textContent.trim().toLowerCase()),s){const e=t.previousElementSibling,n=t.nextElementSibling;e&&i.push(e.textContent.trim().toLowerCase()),n&&i.push(n.textContent.trim().toLowerCase())}s&&Array.from(s.parentElement?s.parentElement.children:[]).forEach(e=>{e!==s&&i.push(e.textContent.trim().toLowerCase())});const a=i.join(" ");(a.includes("participant")||a.includes("going")||a.includes("vont")||a.includes("participer")||a.includes("personne")||a.includes("va"))&&(e.attending_count&&o<=e.attending_count||(e.attending_count=o)),(a.includes("int√©ress√©")||a.includes("interested")||a.includes("s'int√©resse"))&&(e.interested_count&&o<=e.interested_count||(e.interested_count=o))}}const h=document.body.textContent||"",v=[/(\d+)\s*(personnes|people|participants|going|participent|vont|participeront)/i,/(\d+)\s*(personne|person|participant|va|participera)/i,/going[:\s]+(\d+)/i,/participants[:\s]+(\d+)/i];for(const t of v){const n=h.match(t);if(n){const t=parseInt(n[1])||0;t>e.attending_count&&(e.attending_count=t);break}}const g=[/(\d+)\s*(int√©ress√©s|interested|int√©ress√©es|s'int√©ressent)/i,/(\d+)\s*(int√©ress√©|interested)/i,/interested[:\s]+(\d+)/i,/int√©ress√©s[:\s]+(\d+)/i];for(const t of g){const n=h.match(t);if(n){const t=parseInt(n[1])||0;t>e.interested_count&&(e.interested_count=t);break}}const x=document.querySelectorAll('button, [role="button"]');for(const t of x){const n=t.textContent.trim(),o=n.match(/(\d+)\s*(going|participants|vont)/i);if(o){const t=parseInt(o[1])||0;t>e.attending_count&&(e.attending_count=t)}const s=n.match(/(\d+)\s*(interested|int√©ress√©s)/i);if(s){const t=parseInt(s[1])||0;t>e.interested_count&&(e.interested_count=t)}}}catch(e){}return e}(),0,()=>{window.__FOMO_BOOKMARKLET_ACTIVE=!1})}catch(e){alert("Erreur: "+e.message),window.__FOMO_BOOKMARKLET_ACTIVE=!1}}()):alert("‚ö†Ô∏è Ce bookmarklet doit √™tre utilis√© sur une page d'√©v√©nement Facebook.\n\nOuvrez une page d'√©v√©nement Facebook (ex: facebook.com/events/...) puis r√©essayez.")}();