/* ==========================================================================
   FOMO Design System — base.css
   Contient les variables, tokens, reset et styles fondamentaux
   ========================================================================== */

/* Mobile-friendly viewport units pour mobile et Brave address bar retraction */
:root {
    /* Safe area variables pour iOS mobile */
    --safe-top: env(safe-area-inset-top, 0px);
    --safe-bottom: env(safe-area-inset-bottom, 0px);
    --safe-left: env(safe-area-inset-left, 0px);
    --safe-right: env(safe-area-inset-right, 0px);


    /* Colors */
    --primary: #3B82F6;
    --secondary-color: #2563eb;
    /* fallback for legacy usage */
    --surface: #ffffff;
    --text: #0f172a;
    --black: #0b1220;
    --white: #ffffff;
    --text-primary: #0f172a;
    /* alias */
    --text-muted: #475569;
    --text-secondary: #64748b;
    /* alias */
    --text-tertiary: #94a3b8;
    --text-disabled: #94a3b8;
    --border: #e2e8f0;
    --border-color: var(--border);
    --bg: #f7f8fb;
    --background-secondary: #f1f5f9;
    --background-hover: #eef2f7;
    --bg-hover: #eef2f7;
    /* alias */
    --bg-disabled: #e5e7eb;
    --danger: #ef4444;
    --error: #ef4444;
    /* alias */
    --error-light: #fee2e2;
    --warning: #f59e0b;
    --warning-light: #fef3c7;
    --success: #10b981;
    --success-light: #d1fae5;
    --primary-color: var(--primary);
    --primary-hover: #2563eb;

    /* Privacy theming */
    --color-public: #f23d3d;
    --color-public-alt: #dc1d1d;
    --color-private: #3b82f6;
    --color-private-alt: #2563eb;
    --color-seen: #64748b;




    /* Dynamic privacy variables - changées via JavaScript */
    --current-color: var(--color-public);
    --current-color-10: color-mix(in srgb, var(--current-color) 10%, transparent);
    --current-toggle-position: 50%;

    /* Spacing scale */
    --xs: 4px;
    --sm: 8px;
    --md: 16px;
    --lg: 24px;
    --xl: 32px;

    /* Typography scale */
    --text-xs: 12px;
    --text-sm: 14px;
    --text-md: 16px;
    --text-lg: 18px;
    --text-xl: 26px;
    --text-2xl: 32px;
    --font-weight-normal: 400;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;

    /* Radii, borders, shadows */
    --radius-sm: 6px;
    --radius: 8px;
    --radius-lg: 12px;
    --radius-full: 50%;
    --border-width: 2px;
    --border-width-thick: 3px;
    --border-width-thin: 1px;
    --shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.15);
    --shadow-public: 0 0 0 1px var(--color-public-30), 0 4px 12px var(--color-public-30);
    --shadow-public-hover: 0 0 0 1px var(--color-public-40), 0 6px 20px var(--color-public-40);
    --shadow-private: 0 0 0 1px var(--color-private-30), 0 4px 12px var(--color-private-30);
    --shadow-private-hover: 0 0 0 1px var(--color-private-40), 0 6px 20px var(--color-private-40);
    --shadow-focus-public: 0 0 0 2px var(--color-public-30);
    --shadow-focus-private: 0 0 0 2px var(--color-private-30);
    --text-shadow-public: 0 1px 3px var(--color-public-30);
    --text-shadow-private: 0 1px 3px var(--color-private-30);


    /* semantic alias for cards */
    --component-min-height: 270px;
    --banner-height: 200px;
    --banner-height-sm: 160px;
    --banner-radius: var(--radius);
    --banner-radius-lg: var(--radius-lg);
    --button-size: 56px;
    --button-size-md: 40px;
    --button-size-sm: 32px;
    --button-size-xs: 24px;


    /* Navigation dimensions */
    --button-radius: 30px;
    --button-radius-md: 20px;
    --button-radius-sm: 16px;
    --button-radius-xs: 14px;
    --bar-length: 22px;
    --bar-thickness: 4px;
    --toggle-width: 70px;
    --toggle-height: 36px;
    --toggle-radius: 18px;
    --toggle-circle-size: 40px;
    --toggle-translate-distance: 18px;
    --toggle-icon-size: 22px;
    --input-checkbox-size: 14px;
    --input-radio-size: 14px;
    --border-public: var(--color-public);
    --border-public-alt: var(--color-public-alt);
    --border-private: var(--color-private);
    --border-private-alt: var(--color-private-alt);
    --border-white-30: var(--color-white-30);
    --border-white-40: var(--color-white-40);

    /* Z-index mutualisés */
    --z-index-event-card: 1004;
    --z-index-modal: 1010;
    --z-index-toast: 1020;

    /* Map colors */
    --pin-color-public: var(--color-public);
    --pin-color-private: var(--color-private);
    --pin-color-seen: var(--color-seen);
    --cluster-color-public: var(--color-public-alt);
    --cluster-color-private: var(--color-private-alt);


    /* Breakpoints */
    --bp-sm: 480px;
    --bp-md: 768px;
    --bp-lg: 1024px;

    /* Transitions */
    --transition-fast: 0.15s ease-in-out;
    --transition-medium: 0.25s ease-in-out;
    --transition-slow: 0.5s ease-in-out;
    --transition-xl: 1s ease-in-out;

    /* Glassmorphism effects - Only used variables */
    --surface-glass: rgba(255, 255, 255, 0.2);
    --glass-bg-light: rgba(255, 255, 255, 0.9);
    --glass-blur: 5px;
    --glass-blur-strong: 12px;
    --glass-border: rgba(255, 255, 255, 0.3);
    --glass-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

/* Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html,
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: transparent;
    color: var(--text);
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    /* Désactiver l'inertie du scroll sur iOS */
    -webkit-overflow-scrolling: auto;
}

/* Prevent rubber-banding white background on iOS */
body {
    overscroll-behavior-y: contain;
}

/* MapLibre canvas - Web-first touch behavior */
.maplibregl-canvas {
    touch-action: pan-y;
    /* Allow vertical scroll to pass through the map */
    background: #f7f8fb;
    /* Prevent white halo on iOS */
}

/* Web-first layout structure */
#root {
    min-height: 200svh;
    /* Ensure scroll for Android address bar retraction */
    background: transparent;
}

.app {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    background: transparent;
}

/* Main content area with proper padding for fixed header/navbar */
.app-body {
    padding-top: 56px;
    padding-bottom: calc(80px + var(--safe-bottom));
    min-height: 100vh;
    box-sizing: border-box;
    flex: 1;
}