/* ========================
   ANIMATIONS & KEYFRAMES
======================== */

/* Keyframes */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
    }
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

@keyframes logoFadeIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Animation slideUp avec max-height pour les événements */
@keyframes slideUpWithHeight {
    from {
        opacity: 0;
        max-height: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        max-height: 500px;
        transform: translateY(0);
    }
}


/* Fade out animation for rejected events */
.fade-out-2s {
    animation: fadeOut 2s ease-in-out forwards;
}

/* ========================
   CONTAINER STARS (canvas-confetti)
======================== */

/* Container pour les étoiles (utilisé par canvas-confetti) */
.stars-container {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 10000;
    /* Overlay transparent avec blur pour effet backdrop */
    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);
    background: rgba(0, 0, 0, 0.01);
    /* Très léger pour permettre le blur */
}

/* Animation pour le container lui-même (fade out après l'animation) */
.stars-container--fade-out {
    animation: fadeOut 0.3s ease-out 1.7s forwards;
}


/* ========================
   HALO PULSE (pour toggle privacy)
======================== */

/* Animation pour le halo (scale + opacity) */
@keyframes haloPulse {
    0% {
        opacity: 0.8;
        transform: translateZ(0) scale(1);
    }

    50% {
        opacity: 0;
        transform: translateZ(0) scale(1.5);
    }

    100% {
        opacity: 0;
        transform: translateZ(0) scale(1);
    }
}

/* Animation pour le toggle lui-même (scale léger) */
@keyframes togglePulse {
    0% {
        transform: translateZ(0) scale(1);
    }

    50% {
        transform: translateZ(0) scale(1.05);
    }

    100% {
        transform: translateZ(0) scale(1);
    }
}

.privacy-toggle-halo {
    position: relative;
    /* S'assurer que le halo n'est pas coupé */
    overflow: visible;
    /* Animation sur le toggle lui-même - ralentie à 2.5s */
    animation: togglePulse 2.5s ease-out infinite;
    /* Optimisation pour mobile */
    will-change: transform;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    /* Forcer l'accélération matérielle sur mobile */
    transform: translateZ(0);
}

/* Pseudo-élément ovale qui pulse pour correspondre à la forme du toggle-track */
.privacy-toggle-halo::after {
    content: '';
    position: absolute;
    /* Positionner au centre du toggle-switch (qui contient toggle-track) */
    top: 50%;
    left: 50%;
    width: var(--toggle-width);
    height: var(--toggle-height);
    margin-top: calc(var(--toggle-height) / -2);
    margin-left: calc(var(--toggle-width) / -2);
    border-radius: var(--toggle-radius);
    background: color-mix(in srgb, var(--current-color) 30%, transparent);
    border: 2px solid color-mix(in srgb, var(--current-color) 60%, transparent);
    /* Animation ralentie à 2.5s */
    animation: haloPulse 2.5s ease-out infinite;
    pointer-events: none;
    /* z-index pour rester derrière le toggle-track mais visible */
    z-index: 0;
    /* Optimisation pour mobile */
    will-change: transform, opacity;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    /* Forcer l'accélération matérielle sur mobile */
    transform: translateZ(0);
}

/* ========================
   BUTTON PULSE (pour bouton signup)
======================== */

@keyframes buttonPulse {

    0%,
    100% {
        transform: translateX(-50%) scale(1);
    }

    50% {
        transform: translateX(-50%) scale(1.05);
    }
}